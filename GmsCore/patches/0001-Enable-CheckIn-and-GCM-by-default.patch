From c6c73dae3c7092299cf6db685697d82247de3293 Mon Sep 17 00:00:00 2001
From: MSe1969 <mse1969@posteo.de>
Date: Thu, 17 Sep 2020 21:43:22 +0200
Subject: [PATCH] Enable CheckIn and GCM by default

---
 .../src/main/java/org/microg/gms/checkin/CheckinPrefs.java            | 4 ++--
 play-services-core/src/main/java/org/microg/gms/gcm/GcmPrefs.java     | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/play-services-core/src/main/java/org/microg/gms/checkin/CheckinPrefs.java b/play-services-core/src/main/java/org/microg/gms/checkin/CheckinPrefs.java
index f4f5b76..d76bba7 100644
--- a/play-services-core/src/main/java/org/microg/gms/checkin/CheckinPrefs.java
+++ b/play-services-core/src/main/java/org/microg/gms/checkin/CheckinPrefs.java
@@ -32,7 +32,7 @@ public class CheckinPrefs implements SharedPreferences.OnSharedPreferenceChangeL
 
     private SharedPreferences preferences;
     private SharedPreferences systemDefaultPreferences;
-    private boolean checkinEnabled = false;
+    private boolean checkinEnabled = true;
 
     private CheckinPrefs(Context context) {
         if (context != null) {
@@ -54,7 +54,7 @@ public class CheckinPrefs implements SharedPreferences.OnSharedPreferenceChangeL
     }
 
     private void update() {
-        checkinEnabled = getSettingsBoolean(PREF_ENABLE_CHECKIN, false);
+        checkinEnabled = getSettingsBoolean(PREF_ENABLE_CHECKIN, true);
     }
 
     @Override
diff --git a/play-services-core/src/main/java/org/microg/gms/gcm/GcmPrefs.java b/play-services-core/src/main/java/org/microg/gms/gcm/GcmPrefs.java
index 852f85e..a31c7f0 100644
--- a/play-services-core/src/main/java/org/microg/gms/gcm/GcmPrefs.java
+++ b/play-services-core/src/main/java/org/microg/gms/gcm/GcmPrefs.java
@@ -65,7 +65,7 @@ public class GcmPrefs implements SharedPreferences.OnSharedPreferenceChangeListe
     private boolean gcmLogEnabled = true;
     private String lastPersistedId = "";
     private boolean confirmNewApps = false;
-    private boolean gcmEnabled = false;
+    private boolean gcmEnabled = true;
 
     private int networkMobile = 0;
     private int networkWifi = 0;
@@ -99,7 +99,7 @@ public class GcmPrefs implements SharedPreferences.OnSharedPreferenceChangeListe
     }
 
     public void update() {
-        gcmEnabled = getSettingsBoolean(PREF_ENABLE_GCM, false);
+        gcmEnabled = getSettingsBoolean(PREF_ENABLE_GCM, true);
         gcmLogEnabled = getSettingsBoolean(PREF_FULL_LOG, true);
         confirmNewApps = getSettingsBoolean(PREF_CONFIRM_NEW_APPS, false);
 
-- 
2.11.0

